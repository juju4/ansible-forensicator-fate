---

sift_docker: false
sift_include_volplugins: false

## as we have 3 level of projects, need 3, else can stall
jenkins_numExecutors: 3
jenkins_plugins:
  - parameterized-trigger
  - conditional-buildstep
## https://wiki.jenkins-ci.org/display/JENKINS/Rebuild+Plugin
  - rebuild
jenkins_init_changes:
#        - {option: "JENKINS_ARGS", value: "--prefix={{ jenkins_url_prefix }} --httpListenAddress=127.0.0.1 --ajp13Port=-1 --httpsPort=-1 --sessionTimeout=180"}
  - {option: "JENKINS_ARGS", value: "--prefix={{ jenkins_url_prefix }} --ajp13Port=-1 --httpsPort=-1 --sessionTimeout=180"}
  - {option: "JENKINS_JAVA_OPTIONS", value: "{{ jenkins_java_options }}"}
    ## path on orchestrator
#jenkins_job_examples:
##  - "{{ ffate_local_src }}/bulk_extractor_disk.xml"
##  - "{{ ffate_local_src }}/bulk_extractor_memory.xml"
#  - "{{ ffate_local_src }}/bulk_extractor.xml"
##  - "{{ ffate_local_src }}/Carving.xml"
##  - "{{ ffate_local_src }}/findWindowsEvidence.xml"
##  - "{{ ffate_local_src }}/FStimeline.xml"
#  - "{{ ffate_local_src }}/IOC.xml"
#  - "{{ ffate_local_src }}/NSRL.xml"
##  - "{{ ffate_local_src }}/PlasoExporter.xml"
##  - "{{ ffate_local_src }}/sorter.xml"
##  - "{{ ffate_local_src }}/Supertimeline.xml"
#  - "{{ ffate_local_src }}/Volatility.0.xml"
#  - "{{ ffate_local_src }}/Volatility.1.xml"
##  - "{{ ffate_local_src }}/Volatility.2.xml"
##  - "{{ ffate_local_src }}/Volatility.3.xml"
#  - "{{ ffate_local_src }}/Volatility.4.xml"
#  - "{{ ffate_local_src }}/Volatility.5.xml"
#  - "{{ ffate_local_src }}/Volatility.6.xml"
#  - "{{ ffate_local_src }}/Volatility.7.xml"
#  - "{{ ffate_local_src }}/Volatility.8.xml"
##  - "{{ ffate_local_src }}/Volatility.xml"
#  - bulk_extractor_disk.xml
#  - bulk_extractor_memory.xml
#  - findWindowsEvidence.xml
#  - findLinuxEvidence.xml
#  - findMacEvidence.xml
#  - sorter.xml
#  - Volatility.2.xml
#  - Volatility.3.xml
#  - Volatility.xml
#  - VolatilityLinux.1-ps.xml
#  - VolatilityLinux.2-lib.xml
#  - VolatilityLinux.3-net.xml
#  - VolatilityLinux.xml
#  - VolatilityMac.1-ps.xml
#  - VolatilityMac.2-lib.xml
#  - VolatilityMac.3-net.xml
#  - VolatilityMac.4-injection.xml
#  - VolatilityMac.xml
#  - Carving.xml
#  - Supertimeline.xml
#  - FStimeline.xml
#  - PlasoExporter.xml
#  - Rekall.xml
#
#jenkins_job_local_examples: []
jenkins_job_local_examples:
        - "{{ ffate_git_src }}/bulk_extractor_disk.xml"
        - "{{ ffate_git_src }}/bulk_extractor_memory.xml"
        - "{{ ffate_git_src }}/bulk_extractor.xml"
        - "{{ ffate_git_src }}/Carving.xml"
        - "{{ ffate_git_src }}/findLinuxEvidence.xml"
        - "{{ ffate_git_src }}/findMacEvidence.xml"
        - "{{ ffate_git_src }}/findWindowsEvidence.xml"
        - "{{ ffate_git_src }}/FStimeline.xml"
        - "{{ ffate_git_src }}/IOC.xml"
        - "{{ ffate_git_src }}/NSRL.xml"
        - "{{ ffate_git_src }}/PlasoExporter.xml"
        - "{{ ffate_git_src }}/Rekall.xml"
        - "{{ ffate_git_src }}/sorter.xml"
        - "{{ ffate_git_src }}/Supertimeline.xml"
        - "{{ ffate_git_src }}/Volatility.0.xml"
        - "{{ ffate_git_src }}/Volatility.1.xml"
        - "{{ ffate_git_src }}/Volatility.2.xml"
        - "{{ ffate_git_src }}/Volatility.3.xml"
        - "{{ ffate_git_src }}/Volatility.4.xml"
        - "{{ ffate_git_src }}/Volatility.5.xml"
        - "{{ ffate_git_src }}/Volatility.6.xml"
        - "{{ ffate_git_src }}/Volatility.7.xml"
        - "{{ ffate_git_src }}/Volatility.8.xml"
        - "{{ ffate_git_src }}/VolatilityLinux.1-ps.xml"
        - "{{ ffate_git_src }}/VolatilityLinux.2-lib.xml"
        - "{{ ffate_git_src }}/VolatilityLinux.3-net.xml"
        - "{{ ffate_git_src }}/VolatilityLinux.xml"
        - "{{ ffate_git_src }}/VolatilityMac.1-ps.xml"
        - "{{ ffate_git_src }}/VolatilityMac.2-lib.xml"
        - "{{ ffate_git_src }}/VolatilityMac.3-net.xml"
        - "{{ ffate_git_src }}/VolatilityMac.4-injection.xml"
        - "{{ ffate_git_src }}/VolatilityMac.xml"
        - "{{ ffate_git_src }}/Volatility.xml"

postgresql_databases:
  - name: webpy
postgresql_users:
  - name: webpy
## failed: [ffate] (item={u'db': u'webpy', u'name': u'webpy', u'priv': u'ALL/config:ALL/cases:ALL'}) => {"failed": true, "item": {"db": "webpy", "name": "webpy", "priv": "ALL/config:ALL/cases:ALL"}, "module_stderr": "Traceback (most recent call last):\n  File \"/tmp/ansible_KAwPOq/ansible_module_postgresql_user.py\", line 666, in <module>\n    main()\n  File \"/tmp/ansible_KAwPOq/ansible_module_postgresql_user.py\", line 632, in main\n    changed = grant_privileges(cursor, user, privs) or changed\n  File \"/tmp/ansible_KAwPOq/ansible_module_postgresql_user.py\", line 460, in grant_privileges\n    grant_funcs[type_](cursor, user, name, privileges)\n  File \"/tmp/ansible_KAwPOq/ansible_module_postgresql_user.py\", line 360, in grant_table_privileges\n    cursor.execute(query)\n  File \"/usr/lib/python2.7/dist-packages/psycopg2/extras.py\", line 123, in execute\n    return _cursor.execute(self, query, vars)\npsycopg2.ProgrammingError: relation \"cases\" does not exist\n\n", "module_stdout": "", "msg": "MODULE FAILURE"}
#    priv: "ALL/config:ALL/cases:ALL"
#    priv: "INSERT,UPDATE,SELECT/config:INSERT,UPDATE,SELECT/cases:ALL"
    priv: ALL
    db: webpy

## only needed for setup with elk
jenkins_ufw_allow_ports_out:
  - 22
#  - 25
  - 53
  - 123
## email/TLS?
  - 587
## mDNS (required by Jenkins)
  - 5353
## web
  - 80
  - 443
  - 8080
## gpg keyserver
  - 11371
## using dhcp?
  - 67
## elasticsearch
  - 9200

## docker, lxc? (else dhclient will fail ...)
jenkins_ufw_allow_if_out: []
